@using Microsoft.AspNetCore.Mvc.Localization
@model Michaelsoft.ContentManager.Client.Models.Forms.AuthorizeForm
@inject IViewLocalizer Localizer

<form id="authorize-form" method="post" asp-area="Authentication" asp-page="/Authorize">
    <div class="authorize-form">
        <input type="hidden" id="token" asp-for="Token"/>
        <input type="hidden" id="encrypted-token" asp-for="AuthorizeRequest.EncryptedToken"/>
        <div class="form-group">
            <div class="content-manager_form-label">
                <label>Certificate</label>
            </div>
            <div class="content-manager_form-input">
                <input type="file" id="certificate-file" onchange="loadCertificate()">
                <textarea id="certificate-text" rows="15" style="width:100%;resize:none;"></textarea>
            </div>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary btn-sm btn-block">@Localizer[Model.AuthorizeLabel]</button>
        </div>
    </div>
</form>

<script src="~/content-manager-assets/js/jsencrypt.min.js"></script>
<environment include="Development">
    <script src="~/content-manager-assets/js/authorizeform.js"></script>
</environment>
<environment exclude="Development">
    <script src="~/content-manager-assets/js/authorizeform.min.js"></script>
</environment>